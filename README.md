## Overview
- FastAPI + OpenAI + PydanticAI
- Abstract LLM service based on OpenAI SDK
- 5 Agents work together to achieve the end to end task
  - incumbents_analysis_agent: LLM + Tavily web search to get recent incumbents analysis
  - funding_analysis_agent: LLM + Tavily web search to get recent funding analysis
  - growth_analysis_agent: LLM + Tavily web search to get recent growth analysis
  - score_analysis_agent: LLM + predefined rules to generate score for each dimension (incumbents, funding, market growth)
  - overall_analysis_agent: Calculate overall score and generate final conclusion (judgement)
- Docker setup for whole backend, easy to deploy and test
- Full logging for key outputs in each step, easy to check how service reasoning bebind the scene

## High level design
![alt text](hld_market_analysis.png)

## Local deployment
- clone the repository to local
- Create .env file and add openAI API key and Tavily API key (refer to env.example file)
- Under backend root folder, run `docker compose up` to run the backend in docker
- in browser type `localhost:3000/docs` to visit the all APIs, you can try any api endpoints with any product idea
![alt text](api.png)
    - `/api/ai_assistant/market-analysis` is for assigned task, others just for testing different agents

## Testing
I used following idea for testing:
- Canada operator Telus enters finance market and provides own credit card service

Following is what I got:
{
  "analysis": {
    "incumbents_analysis": "### Overview of Incumbents in Financial Services Relevant to Telus Credit Card\n\n1. **Telus Corporation**\n   - **Main Products/Features:** Telus operates as a major telecommunications provider in Canada and has expanded into various domains, including financial services. Through its subsidiary, Telus Digital, it provides outsourcing solutions tailored to financial service companies, enhancing customer support and trust in financial offerings. The company has focused on financial services, with a notable increase in revenue from this vertical.\n   - **Recent Business Summary:** In the first quarter of 2025, Telus reported a 16% revenue growth in its banking and financial services sector, primarily from collaborations with Canadian banks and financial institutions. Furthermore, Telus is keen on incorporating advanced digital solutions to bolster its financial services portfolio, aligning with its broader strategy of integrating various consumer services under its brand.\n\n2. **Royal Bank of Canada (RBC)**\n   - **Main Products/Features:** RBC offers a broad spectrum of financial services, including credit cards, personal banking, wealth management, and insurance. It has a robust digital banking platform that includes mobile banking features and cashback credit cards, alongside a highly-rated rewards program.\n   - **Recent Business Summary:** RBC has consistently reported strong financial performance, focusing on enhancing its digital services and improving customer experience. In 2025, RBC aimed to increase investment in technology enhancement to meet growing consumer demands for seamless banking experiences.\n\n3. **TD Bank**\n   - **Main Products/Features:** TD Bank is renowned for its extensive range of financial products, including numerous credit card options, personal and commercial banking, and wealth management services. The bank emphasizes customer-centric digital banking solutions and has established high rewards and cash-back credit card offerings.\n   - **Recent Business Summary:** TD Bank has been proactive in leveraging technology to improve customer service and operational efficiency. In recent reports, it highlighted significant growth in digital customer engagement, tapping into customer data to enhance personalized service offerings in 2024-2025.\n\n4. **BMO Financial Group**\n   - **Main Products/Features:** BMO provides a wide array of banking services including personal banking, commercial banking, and wealth management. It features an impressive catalog of credit cards designed for various consumer needs with strong rewards programs.\n   - **Recent Business Summary:** BMO has seen growth in its credit card segment, bolstered by ongoing digital transformation strategies and a focus on building partnerships for rewards programs. The bank is prioritizing customer loyalty through enriched service offerings and technological integration.\n\n5. **Scotiabank**\n   - **Main Products/Features:** Scotiabank offers credit cards, investment services, and personal banking. Their credit card products are noted for flexible rewards options and travel benefits, alongside advanced security features.\n   - **Recent Business Summary:** The bank reported solid growth in both card and personal loan segments in the first quarter of 2025, with a focus on expanding its digital product offerings to enhance customer journey and loyalty.\n\n### Conclusion\nThe landscape for financial services, particularly credit card offerings, is highly competitive, with established banks like RBC, TD, and BMO actively enhancing digital experiences and rewards programs. Telus's entry into this market with its credit card could leverage existing customer loyalty and emphasize unique features such as integration with telecom services and sustainability, setting it apart from incumbents.",
    "funding_analysis": "### Funding Landscape for Telus Credit Card & Related Financial Products\n\nThe consumer credit card market and broader fintech industry are currently experiencing notable investment activity, signaling a healthy interest from investors. This landscape is pertinent as Telus prepares to launch its credit card product. Here's a summary of the key funding trends relevant to Telus's initiative:\n\n1. **Strong Fintech Investment**:\n   - In the first quarter of 2025, global fintech startups raised **$10.3 billion**, marking the highest funding level since Q1 2023. This surge indicates strong investor confidence and revived appetite for fintech solutions, including payment, lending, and credit card technologies. (TechCrunch)\n\n2. **Top Players and Investment Rounds**:\n   - Many established fintech companies have received significant funding in 2025. For instance, **19 U.S. fintech startups secured over $50 million** each within the first quarter, showcasing substantial investor interest in innovative financial services. (TechCrunch)\n   - Noteworthy funding rounds include Juniper Square's **$130 million** Series D, underscoring ongoing investment in financial technology solutions relevant to data and transaction processing. (FinTech Futures)\n\n3. **Consumer Credit Market Trends**:\n   - Reports indicate that the **global credit card market is expected to reach $114.55 billion by 2029** with a moderate CAGR of **1.8%**. This growth is driven by trends such as contactless payments, security features, and enhanced personalization. Investing in a credit card product now positions Telus well within this expanding market. (The Business Research Company)\n\n4. **Competitive Landscape**:\n   - Major competitors like Chime and Brex have drawn significant funding, with Brex raising **$300 million** in Series D funding and Chime **$750 million** in Series I funding. Such companies serve as examples of how integrated financial solutions can successfully engage consumers. (Forbes)\n   - New market entrants focusing on sustainability, personalization, and integrated experiences mirror the strengths of the proposed Telus Credit Card, which promises eco-friendly materials and strong rewards programs for telecommunications and travel partners.\n\n5. **Recent Developments within Telus**:\n   - Telus's recent **$1.5 billion debt offering** and strategic partnerships, such as with TransUnion for enhanced consumer services, fortify its readiness to diversify into financial services. These moves are anticipated to enhance customer engagement, which is crucial for the credit card's success. (Yahoo Finance)\n\n### Conclusion\n\nThe funding landscape is favorable for Telus as it introduces its Credit Card. The overall growth in fintech investment indicates an advantageous climate for launching new financial products. Moreover, trends towards integrated financial solutions aligned with consumer needs present a compelling case for Telus's venture, backed by its established brand and customer base. The strategic insights gleaned from recent market activities highlight the potential for Telus to successfully establish a foothold in the competitive consumer credit landscape.",
    "growth_analysis": "### Market Growth Summary for the Credit Card Sector\n\nThe credit card market is experiencing notable growth, driven by various consumer trends and technological advancements. Here are key insights and projections regarding market dynamics:\n\n1. **Market Size and Growth Rate**:\n   - The global credit card market was valued at approximately **USD 530.2 billion in 2023**, with projections indicating substantial growth to **USD 1042.34 billion by 2032**, representing a **CAGR of 7.8%** during the forecast period from 2025 to 2032 (SkyQuest).\n   - Market Research Future (MRFR) estimates the market to increase from **USD 1,839.58 billion in 2025 to USD 2,500 billion by 2035**, reflecting a **CAGR of 2.83%** during this timeframe. This growth is attributed to rising consumer spending and an increasing shift towards online and digital payment methods.\n\n2. **Consumer Behavior Trends**:\n   - There has been a rising preference for **rewards-based credit cards**, which were valued at **USD 615.13 billion in 2024**, with future expectations of growth to **USD 850.0 billion by 2035**. This trend underscores a market emphasis on cashback and loyalty rewards systems, driving consumer engagement and satisfaction (MRFR).\n   - The shift towards **contactless payments** and secure digital transactions is becoming more prominent as consumers seek convenience and safety, further boosting credit card usage (The Business Research Company).\n\n3. **Technological Advancements**:\n   - The integration of traditional credit cards with digital wallets and mobile payment apps is a significant trend influencing growth. Companies are innovating in **mobile wallet integration**, enhancing user experience and security features, which are vital in maintaining competitive advantages in the fast-evolving payments landscape.\n\n4. **Future Projections**:\n   - According to insights from The Business Research Company, the credit card market revenue is anticipated to reach **USD 114.55 billion by 2029**, with a **CAGR of 1.8%** from 2025 to 2034. Despite a slowdown in growth rates post-2023, the market remains robust due to increasing consumer credit demand (The Business Research Company).\n\n5. **Technological Adaptations and Consumer Preferences**:\n   - The advent of **AI-powered fraud detection** and personalized customer experiences via digital platforms are critical in shaping up the future of credit card offerings. As noted, the market must adapt to consumers' preferences for seamless, timely, and secure payment methods to drive further adoption.\n\n6. **Competitive Landscape**:\n   - Major players like Visa and Mastercard are witnessing positive growth in transaction volumes, reflecting the steady increase in credit card usage globally. This competitive landscape necessitates differentiation for new entrants like Telus, which can leverage unique value propositions, such as **integrated digital services** and customer loyalty programs.\n\n### Conclusion\nThe credit card market presents a promising opportunity for Telus, especially with the increasing integration of technology in financial services. By aligning its offerings with market trends such as reward systems and digital integration, Telus can effectively tap into a growing consumer base eager for innovative and secure financial solutions.",
    "scores": {
      "incumbents": 0.6,
      "funding": 0.9,
      "growth": 0.8,
      "overall": 0.75
    },
    "final_judgement": "Move forward with Telus's credit card initiative. The overall score indicates a robust opportunity, as the favorable funding landscape and strong market growth trends align perfectly with consumer demand for integrated financial solutions. Telus can leverage its established brand loyalty and innovative features, such as sustainability and rewards programs, to differentiate itself against incumbents in a competitive market."
  }
}
